# **ç¬¬äº”èŠ‚ã€äº‘ä¸Šç®¡ç† Elasticsearch çš„ä¸€äº›æ–¹æ³•**

## **1ã€åœ¨ç§æœ‰äº‘ä¸Šç®¡ç† Elasticsearch çš„ä¸€äº›æ–¹æ³•**

### **1-1 ç®¡ç†å•ä¸ªé›†ç¾¤**

* é›†ç¾¤å®¹é‡ä¸å¤Ÿæ—¶ï¼Œéœ€æ‰‹å·¥å¢åŠ èŠ‚ç‚¹
* æœ‰èŠ‚ç‚¹ä¸¢å¤±æ—¶ï¼Œæ‰‹å·¥ä¿®å¤æˆ–æ›´æ¢èŠ‚ç‚¹
	* ç¡®ä¿ Rack Awareness
* é›†ç¾¤ç‰ˆæœ¬å‡çº§;æ•°æ®å¤‡ä»½;æ»šåŠ¨å‡çº§
	* å®Œå…¨æ‰‹åŠ¨ï¼Œç®¡ç†æˆæœ¬é«˜

![Alt Image Text](../images/chap9_5_1.png "Body image")

### **1-2 ECEï¼Œå¸®åŠ©ä½ ç®¡ç†å¤šä¸ª Elasticsearch é›†ç¾¤**

* ECE â€“ Elastic Cloud Enterprise
	* [https://www.elastic.co/cn/products/ece](https://www.elastic.co/cn/products/ece)
* é€šè¿‡å•ä¸ªæ§åˆ¶å°ï¼Œç®¡ç†å¤šä¸ªé›†ç¾¤
	* æ”¯æŒä¸åŒæ–¹å¼çš„é›†ç¾¤éƒ¨ç½²(æ”¯æŒå„ç±»éƒ¨ç½²) / è·¨æ•°æ®ä¸­å¿ƒ / éƒ¨ç½² Anti Affinity
	* ç»Ÿä¸€ç›‘æ§æ‰€æœ‰é›†ç¾¤çš„çŠ¶æ€
	* å›¾å½¢åŒ–æ“ä½œ
		* å¢åŠ åˆ é™¤èŠ‚ç‚¹
		* å‡çº§é›†ç¾¤ / æ»šåŠ¨æ›´æ–° / è‡ªåŠ¨æ•°æ®å¤‡ä»½

### **1-3 åŸºäº Kubernetes çš„æ–¹æ¡ˆ**

* åŸºäºå®¹å™¨æŠ€æœ¯ï¼Œä½¿ç”¨ Operator æ¨¡å¼è¿›è¡Œç¼–æ’ç®¡ç†
* é…ç½®ï¼Œç®¡ç†ç›‘æ§å¤šä¸ªé›†ç¾¤
* **æ”¯æŒHot&Warm**
* æ•°æ®å¿«ç…§å’Œæ¢å¤

![Alt Image Text](../images/chap9_5_2.png "Body image")

### **1-4 Kubernetes CRD**

![Alt Image Text](../images/chap9_5_3.png "Body image")

### **1-5 æ„å»ºè‡ªå·±çš„ç®¡ç†ç³»ç»Ÿ**

**åŸºäºè™šæ‹Ÿæœºçš„ç¼–æ’ç®¡ç†æ–¹å¼**

* Puppet Infrastructure (Puppet / Elasticsearch Puppet Module / Foreman)
* Workflow based Provision & Management


**åŸºäº Kubernetes çš„å®¹å™¨åŒ–ç¼–æ’ç®¡ç†æ–¹å¼**

* åŸºäº Operator æ¨¡å¼
* Kubernetes - Customer Resource Definition

### **1-6 å°† Elasticsearch éƒ¨ç½²åœ¨ Kubernetes**

![Alt Image Text](../images/chap9_5_4.png "Body image")

### **1-7 ä»€ä¹ˆæ˜¯ Kubernetes Operator æ¨¡å¼**

![Alt Image Text](../images/chap9_5_5.png "Body image")

### **1-8 Operator SDK**

[https://github.com/operator-framework/operator-sdk](https://github.com/operator-framework/operator-sdk)

![Alt Image Text](../images/chap9_5_6.png "Body image")

## **2ã€åœ¨å…¬æœ‰äº‘ä¸Šç®¡ç†ä¸éƒ¨ç½² Elasticsearch**

### **2-1 Elastic Cloud**

https://www.elastic.co/cloud/

![Alt Image Text](../images/chap9_5_7.png "Body image")

![Alt Image Text](../images/chap9_5_8.png "Body image")

### **2-2 Chrome Lang: English**

**AWS + GCP**

![Alt Image Text](../images/chap9_5_9.png "Body image")

### **2-3 Chrome Lang: Chinese**

> Elastic Cloudâ€”â€”æ³¨å†Œè´¦å·å¯ä»¥å…è´¹è¯•ç”¨14å¤©å“ŸğŸ˜„
ä¿®æ”¹æµè§ˆå™¨çš„è¯­è¨€ï¼Œå¯ä»¥ç©ä¸€ä¸‹é˜¿é‡Œæˆ–è…¾è®¯çš„äº§å“

**Aliyun + Tencent**

[https://data.aliyun.com/product/elasticsearch](https://data.aliyun.com/product/elasticsearch)

![Alt Image Text](../images/chap9_5_10.png "Body image")

### **2-3 ç†è§£é›†ç¾¤çš„é…ç½®**

åŸºäºè™šæ‹Ÿæœºçš„ç¼–æ’ç®¡ç†æ–¹å¼

*  Puppet Infrastructure (Puppet / Elasticsearch Puppet Module / Foreman)
*  Workflow based Provision & Management


åŸºäº Kubernetes çš„å®¹å™¨åŒ–ç¼–æ’ç®¡ç†æ–¹å¼

* åŸºäº Operator æ¨¡å¼
* Kubernetes - Customer Resource Definition