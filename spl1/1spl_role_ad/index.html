
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Jacob's Elasticsearch7 技术与实战教程">
      
      
        <meta name="author" content="Jacob Xi">
      
      
      
        <link rel="prev" href="../../chap19/sum8_int/">
      
      
        <link rel="next" href="../2config_indexes/">
      
      <link rel="icon" href="../../images/logo.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.15">
    
    
      
        <title>1 Splunk Managing Users and Authentication - Jacob ElasticSearch7 Book</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-splunk-administration-managing-users-and-authentication" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Jacob ElasticSearch7 Book" class="md-header__button md-logo" aria-label="Jacob ElasticSearch7 Book" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Jacob ElasticSearch7 Book
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              1 Splunk Managing Users and Authentication
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Chao-Xi/jxes7book.git" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jxes7book
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Jacob ElasticSearch7 Book" class="md-nav__button md-logo" aria-label="Jacob ElasticSearch7 Book" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    Jacob ElasticSearch7 Book
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Chao-Xi/jxes7book.git" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jxes7book
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          一、Elasticsearch 概述
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          一、Elasticsearch 概述
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/1Es_intro/" class="md-nav__link">
        第一节 ElasticSearch 概述
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          二、Elasticsearch 安装手册
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          二、Elasticsearch 安装手册
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/1ES_vm_install/" class="md-nav__link">
        第一节 Elasticsearch的安装与简单配置
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/2KB_vm_install/" class="md-nav__link">
        第二节 Kibana的安装与界面快速预览
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/3ES_KB_docker/" class="md-nav__link">
        第三节 在Docker容器中运行Elasticsearch Kibana和Cerebro
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/4LogStash_vm_install/" class="md-nav__link">
        第四节 Logstash安装与导入数据
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          三、Elasticsearch 入门查询
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          三、Elasticsearch 入门查询
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/1ES_intro/" class="md-nav__link">
        第一节 ElasticSearch 基本概念
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/2ES_CRUD/" class="md-nav__link">
        第二节 文档的基本CRUD与批量操作 & 读取＆Bulk API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/3ES_ReverseIndex/" class="md-nav__link">
        第三节 倒排索引
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/4ES_Analyzer/" class="md-nav__link">
        第四节 使用分析器进行分词
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/5ES_Search/" class="md-nav__link">
        第五节 ElasticSearch Search语句
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/6ES_Mapping/" class="md-nav__link">
        第六节 ElasticSearch Mapping 介绍
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/7ES_Index/" class="md-nav__link">
        第七节 Index Template和Dynamic Template
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/8ES_Aggr/" class="md-nav__link">
        第八节 Elasticsearch Aggregations聚合分析简介
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/9ES_SUM/" class="md-nav__link">
        第九节 Elasticsearch 入门总结 & 测试
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          四、Elasticsearch 深入搜索
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          四、Elasticsearch 深入搜索
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/1ES_search/" class="md-nav__link">
        第一节 基于词项和基于全文的搜索
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/2ES_search_str_score/" class="md-nav__link">
        第二节 结构化搜索以及搜索的相关性算分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/3ES_query_filter/" class="md-nav__link">
        第三节 Query & Filtering与多字符串多字段查询
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/4ES_sin_mul_search/" class="md-nav__link">
        第四节 单字符串多字段查询
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/5ES_multi_lag_ana/" class="md-nav__link">
        第五节 多语言及中文分词与检索
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/6ES_pra_tmdb/" class="md-nav__link">
        第六节 Space Jam，一次全文搜索的实例
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/7ES_ST_IA/" class="md-nav__link">
        第七节 使⽤ Search Template 和 Index Alias
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/8ES_FUNC_SCORE/" class="md-nav__link">
        第八节 综合排序:Function Score Query 优化算分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/9ES_suggester/" class="md-nav__link">
        第九节 Term & Phrase Suggester
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/10ES_Autocomplete/" class="md-nav__link">
        第十节 ⾃动补全与基于上下文的提示
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/11ES_CrossSearch/" class="md-nav__link">
        第十一节 跨集群搜索
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          五、分布式特性及分布式搜索的机制
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          五、分布式特性及分布式搜索的机制
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/1ES_cluster/" class="md-nav__link">
        第一节 集群分布式模型及选主与脑裂问题
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/2ES_shard/" class="md-nav__link">
        第二节 分⽚与集群的故障转移
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/3ES_doc_shard/" class="md-nav__link">
        第三节 ⽂档分布式存储
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/4ES_shared_lifecycle/" class="md-nav__link">
        第四节 分⽚及其生命周期
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/5ES_SE_Score/" class="md-nav__link">
        第五节 剖析分布式查询及相关性算分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/6ES_Sort_query/" class="md-nav__link">
        第六节 排序及Doc Values&Fielddata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/7ES_Pages_Traverse/" class="md-nav__link">
        第七节 分页与遍历 – From，Size，Search After & Scroll API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/8ES_Concurrent_process/" class="md-nav__link">
        第八节 处理并发读写操作
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          六、深入聚合分析
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          六、深入聚合分析
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/1chap6_bucket_metrics/" class="md-nav__link">
        第一节 Bucket & Metric 聚合分析及嵌套聚合
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/2chap6_pipeline_metrics/" class="md-nav__link">
        第二节 Pipeline 聚合分析
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/3chap6_aggragate_scope_order/" class="md-nav__link">
        第三节 聚合的作⽤范围及排序
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/4chap6_accurate_aggragate/" class="md-nav__link">
        第四节 聚合的精准度问题
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          七、数据建模
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          七、数据建模
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/1chap7_nested_obj/" class="md-nav__link">
        第一节 对象及 Nested 对象
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/2chap7_parent_child/" class="md-nav__link">
        第二节 文档的父子关系
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/3chap7_updateindex_reindex/" class="md-nav__link">
        第三节 Update By Query & Reindex API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/4chap7_ingest_painless/" class="md-nav__link">
        第四节 Ingest Pipeline 与 Painless Script
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/5chap7_es_model/" class="md-nav__link">
        第五节 Elasticsearch 数据建模实例
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/6chap7_es_model_pra/" class="md-nav__link">
        第六节 Elasticsearch 数据建模最佳实践
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/7chap7_es_sum2/" class="md-nav__link">
        第七节 第二部分总结回顾
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          八、数据保护
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          八、数据保护
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/1ES_cluster_IAM/" class="md-nav__link">
        第一节 集群身份认证与用户鉴权
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/2ES_cluster_enc_transit/" class="md-nav__link">
        第二节 集群内部间的安全通信
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/3ES_cluster_out_sec/" class="md-nav__link">
        第三节 集群与外部间的安全通信
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
      
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          九、水平扩展Elasticsearch集群
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          九、水平扩展Elasticsearch集群
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap9/1ES_cluster_deploy/" class="md-nav__link">
        第一节 常见的集群部署方式
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap9/2ES_hot_warm/" class="md-nav__link">
        第二节 Hot & Warm 架构与 Shard Filtering
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap9/3ES_shard_settings/" class="md-nav__link">
        第三节 分片设定及管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap9/4ES_cluster_plan/" class="md-nav__link">
        第四节 如何对集群进行容量规划
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap9/5ES_Cloud/" class="md-nav__link">
        第五节 云上管理 Elasticsearch 的一些方法
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
      
      
      
        <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
          十、使用 Kubernets 安装 EFK 集群
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          十、使用 Kubernets 安装 EFK 集群
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/1log_architecture/" class="md-nav__link">
        第一节 kubernetes 日志架构
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/2EFK_log/" class="md-nav__link">
        第二节 在 K8S 上搭建 EFK 日志收集系统
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/16EFK_log_adv/" class="md-nav__link">
        第三节 在 Kubernetes 安装 EFK 日志收集系统[更新]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/17EFK_log_Ana/" class="md-nav__link">
        第四节 EFK kibana 日志分析
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/18EFK_log_alert/" class="md-nav__link">
        第五节 基于EKF日志的报警
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/3ECK_operator/" class="md-nav__link">
        第六节 使用Operator快速部署Elasticsearch集群
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/7EFKLK_log_aggregator/" class="md-nav__link">
        第七节 使用 EFKLK 搭建 Kubernetes 日志收集工具栈 (Kafka/Logstash)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/19Fluentd/" class="md-nav__link">
        第八节 日志收集工具 Fluentd 使用教程
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
      
      
      
        <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
          十一、使用 Elastic Stack 构建 Kubernetes 全栈监控
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          十一、使用 Elastic Stack 构建 Kubernetes 全栈监控
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap11/20Elastic_Stack_Monitoring1/" class="md-nav__link">
        第一节 ElasticSearch 的集群安装
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap11/21Elastic_Stack_Monitoring2/" class="md-nav__link">
        第二节 使用 Elastic Stack — Metricbeat 监控安装
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap11/22Elastic_Stack_Monitoring3/" class="md-nav__link">
        第三节 使用 Elastic Stack - Filebeat 日志数据收集安装
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap11/23Elastic_Stack_Monitoring4/" class="md-nav__link">
        第四节 使用 Elastic Stack — Elastic APM 应用性能监控的工具安装
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
      
      
      
        <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
          十二、生产环境中的集群运维
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          十二、生产环境中的集群运维
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap12/1chap12_ES_prod/" class="md-nav__link">
        第一节 生产环境常用配置和上线清单
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap12/2chap12_mon_es/" class="md-nav__link">
        第二节 监控Elasticsearch集群
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap12/3chap12_es_diag/" class="md-nav__link">
        第三节 诊断集群的潜在问题
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap12/4chap12_es_red_yellow/" class="md-nav__link">
        第四节 解决集群 Yellow 与 Red 的问题
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap12/5chap12_es_cluster_perf/" class="md-nav__link">
        第五节 集群写性能优化
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap12/6chap12_es_pre_test/" class="md-nav__link">
        第六节 集群压力测试
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap12/7chap12_es_segment_merge/" class="md-nav__link">
        第七节 段合并优化及注意事项
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap12/8chap12_Circuit_Breaker/" class="md-nav__link">
        第八节 缓存及使用 Circuit Breaker 限制内存使用
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap12/9chap12_es_ops/" class="md-nav__link">
        第九节 一些运维相关的建议
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
      
      
      
        <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
          十三、索引生命周期管理
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          十三、索引生命周期管理
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap13/1chap13_es_shrink_rolloverapi/" class="md-nav__link">
        第一节 使用 Shrink 与 Rollover API 管理索引
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap13/2chap13_index_lms/" class="md-nav__link">
        第二节 索引全生命周期管理及工具介绍
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
      
      
      
        <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
          十四、用Logstash和Beats构建数据管道
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_15">
          <span class="md-nav__icon md-icon"></span>
          十四、用Logstash和Beats构建数据管道
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap14/1logstash_introduce/" class="md-nav__link">
        第一节 Logstash 入门及架构介绍
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap14/2JDBC_logstash_ES/" class="md-nav__link">
        第二节 利用 JDBC 插件导入数据到 Elasticsearch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap14/3Beats/" class="md-nav__link">
        第三节 Beats 介绍
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
      
      
      
        <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
          十五、用Kibana进行数据可视化分析
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_16">
          <span class="md-nav__icon md-icon"></span>
          十五、用Kibana进行数据可视化分析
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap15/1chap15_index_pattern/" class="md-nav__link">
        第一节 使用 Index Pattern 配置数据
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap15/2chap15_kibana/" class="md-nav__link">
        第二节 Kibana 使用的技巧
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_17" >
      
      
      
        <label class="md-nav__link" for="__nav_17" id="__nav_17_label" tabindex="0">
          十六、探索X-Pack套件
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_17_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_17">
          <span class="md-nav__icon md-icon"></span>
          十六、探索X-Pack套件
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap16/1ES_monitor_alert_xpack/" class="md-nav__link">
        第一节 用Monitoring和Alerting监控Elasticsearch集群
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap16/2Xpack_APM/" class="md-nav__link">
        第二节 用 APM 进行程序性能监控
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap16/3Xpack_ML/" class="md-nav__link">
        第三节 用机器学习实现异常检测
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap16/4ELK_Filebeat/" class="md-nav__link">
        第四节 用 Elastic Stack 进行日志管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap16/5xpack_canvas/" class="md-nav__link">
        第五节 用 Canvas 进行数据的实时展示
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_18" >
      
      
      
        <label class="md-nav__link" for="__nav_18" id="__nav_18_label" tabindex="0">
          十七、ELK 实战 Workshop
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_18_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_18">
          <span class="md-nav__icon md-icon"></span>
          十七、ELK 实战 Workshop
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap17/1ES_WS_movie/" class="md-nav__link">
        第一节 电影搜索服务
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap17/2ES_WS_stackoverflow/" class="md-nav__link">
        第二节 Stackoverflow用户调查问卷分析
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap17/3EFK_jfrog/" class="md-nav__link">
        第三节 通过EFK对Artifactory进行日志分析
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_19" >
      
      
      
        <label class="md-nav__link" for="__nav_19" id="__nav_19_label" tabindex="0">
          十八、Elastic认证, 开发与备份
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_19_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_19">
          <span class="md-nav__icon md-icon"></span>
          十八、Elastic认证, 开发与备份
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap18/1ES_Certified_test/" class="md-nav__link">
        第一节 Elastic 认证考试
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap18/2ES_backup_restore/" class="md-nav__link">
        第二节 集群 Backup & Restore
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap18/3ES_Java/" class="md-nav__link">
        第三节 基于 Java 和 Elasticsearch 开发应用
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap18/4ES_migration/" class="md-nav__link">
        第四节 3种 Elasticsearch 数据离线迁移方案
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_20" >
      
      
      
        <label class="md-nav__link" for="__nav_20" id="__nav_20_label" tabindex="0">
          十九、Elastic 操作总结篇
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_20_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_20">
          <span class="md-nav__icon md-icon"></span>
          十九、Elastic 操作总结篇
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap19/sum1_search_api/" class="md-nav__link">
        ElasticSearch URI 常用语句总结篇
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap19/sum2_search_dep/" class="md-nav__link">
        Elasticsearch 深入搜索总结
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap19/sum3_cross_search/" class="md-nav__link">
        ElasticSearch 分布式搜索
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap19/sum4_agg_search/" class="md-nav__link">
        ElasticSearch 深入聚合分析
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap19/sum5_datamodel/" class="md-nav__link">
        ElasticSearch 数据建模
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap19/sum6_Opt_Mgt/" class="md-nav__link">
        ElasticSearch Operation and Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap19/sum7_test/" class="md-nav__link">
        期末考试
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../chap19/sum8_int/" class="md-nav__link">
        ElasticSearch 面试
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_21" checked>
      
      
      
        <label class="md-nav__link" for="__nav_21" id="__nav_21_label" tabindex="0">
          Splunk8 Admin Mgt
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_21_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_21">
          <span class="md-nav__icon md-icon"></span>
          Splunk8 Admin Mgt
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          1 Splunk Managing Users and Authentication
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        1 Splunk Managing Users and Authentication
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#working-with-roles-and-users" class="md-nav__link">
    Working with Roles and Users
  </a>
  
    <nav class="md-nav" aria-label="Working with Roles and Users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-splunk-enterprise-security-framework" class="md-nav__link">
    Understanding Splunk Enterprise Security Framework
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-security-measures" class="md-nav__link">
    Additional Security Measures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-the-data-flows-in-a-secure-environment" class="md-nav__link">
    How the data flows in a secure environment.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#understanding-splunk-roles" class="md-nav__link">
    Understanding Splunk Roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#splunk-built-in-roles" class="md-nav__link">
    Splunk Built-in Roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-user-with-built-in-roles" class="md-nav__link">
    Create a User with Built-in Roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demo" class="md-nav__link">
    Demo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_audit-index" class="md-nav__link">
    _audit index
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-creating-a-custom-role" class="md-nav__link">
    2 Creating a Custom Role
  </a>
  
    <nav class="md-nav" aria-label="2 Creating a Custom Role">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2-1-why-create-a-custom-role" class="md-nav__link">
    2-1 Why Create a Custom Role?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-2-creating-a-custom-role-using-splunk-web" class="md-nav__link">
    2-2 Creating a Custom Role Using Splunk Web
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-3-creating-a-custom-role-using-configuration-files" class="md-nav__link">
    2-3 Creating a Custom Role Using Configuration Files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-4-understanding-inheritance" class="md-nav__link">
    2-4 Understanding Inheritance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-5-adding-a-user-with-custom-role" class="md-nav__link">
    2-5 Adding a User with Custom Role
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-6-demo" class="md-nav__link">
    2-6 Demo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-configuring-splunk-authentication" class="md-nav__link">
    3 Configuring Splunk Authentication
  </a>
  
    <nav class="md-nav" aria-label="3 Configuring Splunk Authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3-1-authentication-mechanisms" class="md-nav__link">
    3-1 Authentication Mechanisms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-2-creating-a-ldap-strategy" class="md-nav__link">
    3-2 Creating a LDAP Strategy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-3-mapping-ldap-groups-to-splunk-roles" class="md-nav__link">
    3-3 Mapping LDAP Groups to Splunk Roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-4-configuring-single-sign-on" class="md-nav__link">
    3-4 Configuring Single Sign On
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-5-implementing-multi-factor-authentication" class="md-nav__link">
    3-5 Implementing Multi-factor Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-6-demo" class="md-nav__link">
    3-6 Demo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter-summary" class="md-nav__link">
    Chapter Summary
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../2config_indexes/" class="md-nav__link">
        2 Working with Configuration Files and Indexes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../3datamgt_forwarder/" class="md-nav__link">
        3 Managing Data and Forwarders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../4config_ds/" class="md-nav__link">
        4 Splunk Configuring Distributed Search
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../5Mon_create_inputs/" class="md-nav__link">
        5 Splunk Monitoring and Creating Inputs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../6par_man/" class="md-nav__link">
        6 Splunk Parsing and Manipulating Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../7splunk_search/" class="md-nav__link">
        7 Performing Basic Splunk Searches
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../8spl_exam/" class="md-nav__link">
        8 Splunk ADMIN Exam
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#working-with-roles-and-users" class="md-nav__link">
    Working with Roles and Users
  </a>
  
    <nav class="md-nav" aria-label="Working with Roles and Users">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-splunk-enterprise-security-framework" class="md-nav__link">
    Understanding Splunk Enterprise Security Framework
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-security-measures" class="md-nav__link">
    Additional Security Measures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-the-data-flows-in-a-secure-environment" class="md-nav__link">
    How the data flows in a secure environment.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#understanding-splunk-roles" class="md-nav__link">
    Understanding Splunk Roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#splunk-built-in-roles" class="md-nav__link">
    Splunk Built-in Roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-user-with-built-in-roles" class="md-nav__link">
    Create a User with Built-in Roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demo" class="md-nav__link">
    Demo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_audit-index" class="md-nav__link">
    _audit index
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-creating-a-custom-role" class="md-nav__link">
    2 Creating a Custom Role
  </a>
  
    <nav class="md-nav" aria-label="2 Creating a Custom Role">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2-1-why-create-a-custom-role" class="md-nav__link">
    2-1 Why Create a Custom Role?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-2-creating-a-custom-role-using-splunk-web" class="md-nav__link">
    2-2 Creating a Custom Role Using Splunk Web
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-3-creating-a-custom-role-using-configuration-files" class="md-nav__link">
    2-3 Creating a Custom Role Using Configuration Files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-4-understanding-inheritance" class="md-nav__link">
    2-4 Understanding Inheritance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-5-adding-a-user-with-custom-role" class="md-nav__link">
    2-5 Adding a User with Custom Role
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-6-demo" class="md-nav__link">
    2-6 Demo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-configuring-splunk-authentication" class="md-nav__link">
    3 Configuring Splunk Authentication
  </a>
  
    <nav class="md-nav" aria-label="3 Configuring Splunk Authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3-1-authentication-mechanisms" class="md-nav__link">
    3-1 Authentication Mechanisms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-2-creating-a-ldap-strategy" class="md-nav__link">
    3-2 Creating a LDAP Strategy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-3-mapping-ldap-groups-to-splunk-roles" class="md-nav__link">
    3-3 Mapping LDAP Groups to Splunk Roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-4-configuring-single-sign-on" class="md-nav__link">
    3-4 Configuring Single Sign On
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-5-implementing-multi-factor-authentication" class="md-nav__link">
    3-5 Implementing Multi-factor Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-6-demo" class="md-nav__link">
    3-6 Demo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chapter-summary" class="md-nav__link">
    Chapter Summary
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="1-splunk-administration-managing-users-and-authentication"><strong>1 Splunk Administration: Managing Users and Authentication</strong></h1>
<h2 id="working-with-roles-and-users">Working with Roles and Users</h2>
<h3 id="understanding-splunk-enterprise-security-framework">Understanding Splunk Enterprise Security Framework</h3>
<p><strong>How Is Splunk Platform Secured?</strong></p>
<ul>
<li><strong>Role based acces</strong></li>
</ul>
<p>Valid user account with one more roles is required to access Splunk</p>
<ul>
<li><strong>Single sign-on</strong></li>
</ul>
<p>Integrate with enterprise single sign on solutions</p>
<ul>
<li><strong>Auditability</strong></li>
</ul>
<p><strong>Audited evens such as searches and configuration file 
changes are indexed in <code>_audit</code> index</strong></p>
<h3 id="additional-security-measures">Additional Security Measures</h3>
<ul>
<li><strong>Encrypted data flow</strong></li>
</ul>
<p>Data travelling from Forwarders to Indexers are secured using SSL/TLS (can be disabled)</p>
<ul>
<li><strong>Assurance of data integrity</strong></li>
</ul>
<p>Data in Splunk indexes can be checked for tampering</p>
<ul>
<li><strong>Authenticated cluster communication</strong></li>
</ul>
<p><strong>Data travelling between Splunk instances are secured through pass4symmkey</strong></p>
<h3 id="how-the-data-flows-in-a-secure-environment"><strong>How the data flows in a secure environment.</strong></h3>
<p><img alt="Alt Image Text" src="../../images/sp1_1_1.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_2.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_3.png" title="Body image" /></p>
<p>FIPS mode (Federal Information Processing Standard - FIPS 140-2) can be enabled</p>
<p><strong>That stands for federal information processing standard, FIPS 140‑2</strong>. If you enable FIPS mode, Splunk automatically configures all security to comply with US Federal Government's security standards. Note that if you want to enable FIPS mode, you have to do it before you start Splunk Enterprise for the first time.</p>
<h3 id="understanding-splunk-roles">Understanding Splunk Roles</h3>
<ul>
<li>A collection of permissions and capabilities that defines a user function</li>
<li>Users can be assigned to one or more roles</li>
<li>Permissions grant read or write access to Splunk knowledge objects</li>
<li>Capabilities are actions that can be performed in Splunk</li>
<li>Role ultimately determines what a user can do and cannot do (privileges)</li>
</ul>
<p><strong>Examples of Capabilities</strong></p>
<ul>
<li><strong>Capability: Description</strong><ul>
<li>search: Lets a user perform searches</li>
<li><code>schedule_search</code>: Lets a user schedule saved searches, create alerts</li>
<li><code>edit_sourcetypes</code>: Lets a user edit sourcetypes</li>
<li>rtsearch: Lets a user perform real-time searches</li>
<li><code>license_edit</code>: Lets a user edit licenses</li>
<li><code>admin_all_objects</code>: Lets a user modify any object in the system </li>
</ul>
</li>
</ul>
<p><strong>Where Do the Roles Come From?</strong></p>
<p><strong>Built-in roles</strong></p>
<p>Splunk ships with built-in roles with pre-defined capabilities. Examples: admin, power user </p>
<p><strong>Custom roles</strong></p>
<p>You can create one or more custom roles by selectively choosing capabilities</p>
<p><strong>Creating and Editing Roles</strong></p>
<ul>
<li>Splunk Web</li>
</ul>
<p>Use Splunk Web interface to add and edit roles</p>
<ul>
<li>Configuration File</li>
</ul>
<h3 id="splunk-built-in-roles">Splunk Built-in Roles</h3>
<ul>
<li><strong>admin</strong></li>
</ul>
<p>Modify all Splunk objects</p>
<ul>
<li><strong>power</strong></li>
</ul>
<p>Create and edit shared knowledge objects</p>
<ul>
<li>user</li>
</ul>
<p>Create and edit own knowledge objects</p>
<ul>
<li><strong><code>can_delete</code></strong></li>
</ul>
<p>Delete events by keyword</p>
<ul>
<li><strong><code>splunk-system-role</code></strong></li>
</ul>
<p>Special role for system processes</p>
<p><strong>Viewing Default Capabilities Using Splunk Web</strong></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_4.png" title="Body image" /></p>
<p><strong>Viewing Default Capabilities Using Btool</strong></p>
<pre><code>/opt/splunk/bin$ ./splunk btool authorize list role_power

[role_power]

cumulativeRTSrchJobsQuota = 200
cumulativeSrchJobsQuota = 100
edit_sourcetypes = enabled
edit_statsd_transforms = enabled
</code></pre>
<p>You can also view <code>$SPLUNK_HOME/etc/system/default/authorize.conf</code> to identify capabilities for the built-in roles</p>
<p><strong>Do not edit the capabilities of the built-in roles.</strong></p>
<h3 id="create-a-user-with-built-in-roles"><strong>Create a User with Built-in Roles</strong></h3>
<p>Creating a Local Splunk User</p>
<ul>
<li>Easiest way to create a user is to use Splunk Web</li>
<li>The user must be assigned one or more roles (built-in or custom)</li>
<li>By default the user will be created locally</li>
<li><strong>It is recommended to have a strong password</strong></li>
<li>In production environments, users typically are created in Enterprise Directories</li>
</ul>
<p><strong>Creating Users Using Splunk Web</strong></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_5.png" title="Body image" /></p>
<h3 id="demo">Demo</h3>
<ul>
<li>View built-in roles and capabilities</li>
<li>Demo</li>
<li>View built-in users</li>
<li>Check native and inherited capabilities of a role</li>
<li>Create a local Splunk user</li>
<li>Search <code>_audit</code> index</li>
</ul>
<p><img alt="Alt Image Text" src="../../images/sp1_1_6.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_7.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_8.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_10.png" title="Body image" /></p>
<p><strong>login with new created user</strong></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_9.png" title="Body image" /></p>
<h3 id="_audit-index"><code>_audit</code> index</h3>
<ul>
<li><code>index = _audit</code></li>
</ul>
<p><img alt="Alt Image Text" src="../../images/sp1_1_11.png" title="Body image" /></p>
<p><code>_audit</code> is a special internal Spunk index that stores auditable events, such as users logging in, logging out, and making changes to configuration files.</p>
<ul>
<li>
<p><code>index=_audit user=kjones</code></p>
</li>
<li>
<p><code>index=_audit user=kjones action = "login attempt"</code></p>
</li>
</ul>
<p><img alt="Alt Image Text" src="../../images/sp1_1_12.png" title="Body image" /></p>
<p><strong><code>duration</code></strong></p>
<ul>
<li><code>index=_audit user=kjones | transaction startswith="login attempt" endswith="logout"</code></li>
</ul>
<p><img alt="Alt Image Text" src="../../images/sp1_1_13.png" title="Body image" /></p>
<h2 id="2-creating-a-custom-role">2 Creating a Custom Role</h2>
<h3 id="2-1-why-create-a-custom-role">2-1 Why Create a Custom Role?</h3>
<p><strong>Four Reasons to Create a Custom Role</strong></p>
<ul>
<li>Tweak default parameters</li>
<li>Flexibility</li>
<li>Index security</li>
<li>Knowledge objects security</li>
</ul>
<blockquote>
<p>You are able to restrict access to certain objects, such as search head apps, reports, dashboards, alerts, etc.</p>
</blockquote>
<p><strong>Four Reasons to Create a Custom Role</strong></p>
<ul>
<li>Configure granular capabilities without having to update default roles</li>
</ul>
<blockquote>
<p>Splunk comes with default roles such as admin, power, user, <code>can_delete</code>, and system‑role. Stay away from <code>can_delete</code> and splunk‑system‑role.</p>
<p>The factory roles:
<strong>admin,power,user,can delete,splunk-system-role</strong></p>
</blockquote>
<ul>
<li>Tuning done in default roles will get overwritten upon Splunk upgrade</li>
</ul>
<blockquote>
<p>You can view the default capabilities in
<code>$SPLUNK_HOME/etc/system/default/authorize.conf</code></p>
<p><code>accelerate_datamodel = enabled</code></p>
</blockquote>
<ul>
<li>You can secure indexes by configuring <strong>srchIndexesAllowed</strong></li>
<li>You can secure knowledge objects such as reports and apps</li>
</ul>
<h3 id="2-2-creating-a-custom-role-using-splunk-web">2-2 Creating a Custom Role Using Splunk Web</h3>
<p><strong>Things You Need to Know before Creating a Custom Role</strong></p>
<ul>
<li><strong>Inheritance</strong><ul>
<li>Mean which role that this role that you're creating will inherit from. When you create a custom role, it is not uncommon to inherit from the default Splunk roles, such as user our power. When you inherit from a role, all capabilities of the role that you are inheriting from will be automatically available for this role that you're creating</li>
</ul>
</li>
<li><strong>Capabilities</strong><ul>
<li>Capabilities. In addition to inheriting the capabilities, you can add additional capabilities to the role. For example, in the earlier instance where I mentioned you can create an advanced power role and add <code>accelerate_datamodel</code> capability to it. This is the most important parameter for this custom role</li>
</ul>
</li>
<li><strong>Indexes that can be accessed</strong><ul>
<li>This parameter determines which indexes can be accessed by a user who belongs to this role</li>
</ul>
</li>
<li>Default index<ul>
<li>This is the index that will be searched</li>
</ul>
</li>
<li>Search restrictions<ul>
<li>You can add special search filters. For example, you can exclude certain indexes using search restrictions.</li>
</ul>
</li>
<li>Resource configuration<ul>
<li>You can configure resources such as disk space that can be used by a user in this role or the number of searches that are user in this role can run in parallel.</li>
</ul>
</li>
</ul>
<p><strong>Creating a Custom Splunk Role</strong></p>
<blockquote>
<p>Avoid inheriting <code>can_delete</code> role</p>
</blockquote>
<p><img alt="Alt Image Text" src="../../images/sp1_1_14.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_15.png" title="Body image" /></p>
<p><strong>Important Resources Configuration</strong></p>
<ul>
<li><strong>Default App</strong>: The default workspace for users with 
this role</li>
<li><strong>User search job limit</strong>: Number of searches a user with this role can run at the same time (default 3)</li>
<li><strong>Role search job limit</strong>: Total number of searches across all members of this role at the same time (default is unlimited)</li>
<li><strong>Disk space limit</strong>: Maximum disk space in mega bytes 
used by the search jobs of a user with this role (default 100MB)</li>
</ul>
<h3 id="2-3-creating-a-custom-role-using-configuration-files">2-3 Creating a Custom Role Using Configuration Files</h3>
<ul>
<li><strong><code>authentication.conf</code></strong></li>
</ul>
<p>Define authentication system parameters such as LDAP settings. Map roles to LDAP groups</p>
<ul>
<li><strong><code>authorize.conf</code></strong></li>
</ul>
<p><strong>Create new roles and edit capabilities of roles</strong></p>
<ul>
<li><code>user-prefs.conf</code></li>
</ul>
<p><strong>Specify the default app for a role</strong>, along with other UI specific parameters</p>
<p><strong>Adding a Role in authorize.conf</strong></p>
<p><code>$SPLUNK_HOME/etc/system/local/authorize.conf</code></p>
<pre><code># Add new role for sales users

[role_sales_user]
importRoles = user
srchIndexesAllowed = main,sales_trans,web_logs
srchIndexesDefault = sales_trans
srchJobsQuota = 5
</code></pre>
<p><strong>Adding a Role in authorize.conf</strong></p>
<ul>
<li><code>$SPLUNK_HOME/etc/system/local/authorize.conf</code></li>
<li><code>$SPLUNK_HOME/etc/apps/auth_app/local/authorize.conf</code></li>
</ul>
<blockquote>
<p>In a search-head cluster, the configuration
files are deployed in 'default' directory</p>
</blockquote>
<ul>
<li>In distributed env, place <code>authorize.conf</code> in Splunk search head</li>
<li>Simply add a stanza for the role</li>
<li>Restart Splunk to have the changes take effect</li>
</ul>
<p>Never edit <code>$SPLUNK_HOME/etc/system/default/authorize.conf</code>. 
Instead use 
<code>$SPLUNK_HOME/etc/system/local/authorize.conf</code></p>
<p><strong>Three Configuration Files</strong></p>
<h3 id="2-4-understanding-inheritance">2-4 Understanding Inheritance</h3>
<p><strong>Role Inheritance</strong></p>
<ul>
<li><strong>Inheritance</strong></li>
</ul>
<p>A role can be based on other existing role(s)</p>
<ul>
<li><strong>Capabilities</strong></li>
</ul>
<p>A role automatically receives all capabilities and index access of the inherited role</p>
<ul>
<li><strong>Restriction</strong></li>
</ul>
<p>Inherited capabilities and index access cannot be removed</p>
<p>Capabilities are always additive in nature. Users 
who belong to multiple roles receive all capabilities from all their roles.</p>
<p><strong>Role Inheritance Example</strong></p>
<p>Inherited Capabilities Cannot Be Removed</p>
<p><code>advanced_user</code> inherits from <code>support_user</code></p>
<pre><code>[role_support_user]
srchIndexesAllowed = web_logs,app_logs

[role_advanced_user]
importRoles = support_user
srchIndexesAllowed = db_logs
</code></pre>
<p>Effective capabilities of <code>advanced_user</code></p>
<pre><code>[role_advanced_user]
srchIndexesAllowed = web_logs,app_logs,db_logs
</code></pre>
<h3 id="2-5-adding-a-user-with-custom-role">2-5 Adding a User with Custom Role</h3>
<p><img alt="Alt Image Text" src="../../images/sp1_1_16.png" title="Body image" /></p>
<blockquote>
<p>Navigate to Settings -&gt; Users to add a user</p>
</blockquote>
<p><strong>Adding a LDAP User with Custom Role</strong></p>
<ul>
<li>Map LDAP group to a Splunk role in authentication.conf</li>
<li>Any user who belongs to a LDAP group gets all capabilities of the mapped Splunk role</li>
<li>This is the typical setup in production environments</li>
</ul>
<p><strong>LDAP Group Mapping</strong></p>
<p>LDAP Groups Are Mapped Using authentication.conf</p>
<p><strong><code>authentication.conf</code></strong></p>
<pre><code>[authentication]
authType = LDAP

authSettings = myLDAP

[roleMap_myLDAP]

sales_user = sales
</code></pre>
<pre><code>[role_sales_user]
importRoles = user
srchIndexesAllowed = main,sales_trans,web_logs

srchIndexesDefault = sales_trans
srchJobsQuota = 5
</code></pre>
<blockquote>
<p>power and admin have 10 and 50 srchJobsQuota respectively</p>
</blockquote>
<h3 id="2-6-demo">2-6 Demo</h3>
<ul>
<li>Create a custom role using Splunk Web</li>
<li>Create a custom role using authorize.conf</li>
<li>Create a user with a custom role</li>
<li>Troubleshoot user access issues</li>
</ul>
<p>take a look at the existing roles that are already there</p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_17.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_18.png" title="Body image" /></p>
<p><strong>Inheritance</strong></p>
<ul>
<li>Inheritance from user</li>
</ul>
<p><img alt="Alt Image Text" src="../../images/sp1_1_19.png" title="Body image" /></p>
<ul>
<li><strong>Capabilities</strong></li>
</ul>
<p><img alt="Alt Image Text" src="../../images/sp1_1_20.png" title="Body image" /></p>
<p><strong>Indexes, Restrictions, Resources set as default</strong></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_21.png" title="Body image" /></p>
<p>The <code>sales_user</code> custom role has been created. Very simple and straightforward. Now let's see how we can create a custom role using configuration files</p>
<pre><code>cd /Applications/Splunk/etc/system/local

vi authorize.conf
</code></pre>
<pre><code>[role_finance_user]
cumulativeRTSrchJobsQuota=0
cumulativeSrchjobsQuota=0
importRoles = user
srchDiskQuota = 300
srchIndexesAllowed = summary
schMaxfime = 8640000

[role_sales_user]
cumulativeRTSrchJobsQuota=0
cumulativeSrchJobsQuota=0
importRoles = user
schIndexesAllowed = sales_trans
schIndexesDefault = sales_trans
srchMaxTime = 8640000

# Role for web developers
[role_web_user]
cumulativeRTSrchJobsQuota= 0
cumulativeSrchJobsQuota= 0
importRoles = user
schIndexesAllowed = web_logs
schIndexesDefault = web_logs
srchMaxTime = 8640000
</code></pre>
<p><strong><code>srchMaxTime = 8640000</code></strong></p>
<p>This is the maximum amount of time a search can run for a user in this role.</p>
<pre><code>$ cd /Applications/Splunk/bin
$ ./splunk restart
</code></pre>
<p>You have the <code>web_user</code> role available. here Now as you can see, the default app is not showing up for <code>web_user</code>. That's because we did not update the <code>user‑prefs.conf</code>.</p>
<pre><code>cd /etc/apps/user-prefs/local

$ pwd

/Applications/Splunk/etc/apps/user-prefs/local

$ vi user-prefs.conf
</code></pre>
<pre><code>[role_finance_user]
default_namespace = splunk_metrics_workspace

[role_sales_user]
default_namespace = search

[role_web_user]
default_namespace = search
</code></pre>
<pre><code>cd /Applications/Splunk/bin

./splunk restart
</code></pre>
<p><img alt="Alt Image Text" src="../../images/sp1_1_22.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_23.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_24.png" title="Body image" /></p>
<p>Sometimes the user reaches <strong>his disk quota and the searches won't even run</strong>. </p>
<p>The searchers get queued until the old search jobs expire. To quickly determine this, you can use the rest command to call a particular REST API to list the current disk usage.</p>
<pre><code>| rest services/admin/quota-usage
</code></pre>
<p><img alt="Alt Image Text" src="../../images/sp1_1_25.png" title="Body image" /></p>
<pre><code>| rest services/admin/quota-usage | search title=jordanp
</code></pre>
<p><img alt="Alt Image Text" src="../../images/sp1_1_26.png" title="Body image" /></p>
<h2 id="3-configuring-splunk-authentication">3 Configuring Splunk Authentication</h2>
<h3 id="3-1-authentication-mechanisms">3-1 Authentication Mechanisms</h3>
<p>Authentication mechanisms are techniques by which Splunk authenticates a user. When a user logs in, Splunk needs to know if the user can be allowed to log in are not.</p>
<ul>
<li>Native (always on)</li>
</ul>
<p>That means it cannot be disabled, and this is for a good reason. If Splunk loses connectivity with the external LDAP server, how can you log in? Since native mechanism is always on, admin user will be able to log into Splunk.</p>
<ul>
<li>External LDAP </li>
</ul>
<p>Can integrate your Active Directory with Splunk for authentication purposes. </p>
<ul>
<li>SAML </li>
</ul>
<p>SAML stands for Security Assertion Markup Language. This is a very popular open standard that is used to assert security information via XML</p>
<ul>
<li>Scripted Authentication</li>
</ul>
<p>Can have your own authentication system authenticate users for you in Splunk.</p>
<p><strong>Splunk Native Authentication</strong></p>
<ul>
<li>The default factory authentication mechanism (cannot be disabled)</li>
<li>Users can be added, edited and deleted from Splunk Web</li>
<li>Users are maintained in <code>$SPLUNK_HOME/etc/passwd</code> file</li>
</ul>
<blockquote>
<p>If you come from UNIX administration background, this file should look a lot familiar to you. This is the file that's used to keep usernames and passwords in UNIX operating system. </p>
</blockquote>
<p><strong>Users in Native Authentication System</strong></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_27.png" title="Body image" /></p>
<h3 id="3-2-creating-a-ldap-strategy">3-2 Creating a LDAP Strategy</h3>
<ul>
<li>LDAP host and port number</li>
<li>Bind credentials</li>
<li>User base DN and group base DN</li>
</ul>
<blockquote>
<p>User base DN basically means the area are the subtree within LDAP where the users are located. Group base DN is the same thing, but for groups.</p>
</blockquote>
<ul>
<li>User-name and real-user-name attributes</li>
<li>Group-name and static-member attributes</li>
</ul>
<p><strong>How LDAP Authentication Works</strong></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_28.png" title="Body image" /></p>
<blockquote>
<p>Once you configure this and get it working, this configuration seldom changes.</p>
</blockquote>
<p>The user initiates login typically using username and password. The user generally connects to Splunk search head, which hosts the Splunk Web application. S</p>
<p>plunk search head talks to the external LDAP server. It could be OpenLDAP or Active Directory. </p>
<p><strong>Note that the authentication happens on the Active Directory or LDAP server</strong>.</p>
<p><strong>Creating a LDAP Strategy</strong></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_29.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_30.png" title="Body image" /></p>
<ul>
<li>
<p>User base DN specifies the location of your LDAP users, specified by the DN of your user subtree. <strong>In this example, I have dc=example, dc=com</strong>. </p>
</li>
<li>
<p>User base filter can be left blank if you do not have one.</p>
</li>
<li>
<p>User name attribute is the attribute with which usernames are identified. Typically, it is UID. </p>
</li>
<li>
<p>If you are using Active Directory, this could be <strong>sAMAccountName</strong>.</p>
</li>
<li>
<p>The real name attribute is also important. In this case, it is cn</p>
</li>
</ul>
<p><img alt="Alt Image Text" src="../../images/sp1_1_31.png" title="Body image" /></p>
<p>Setting static group search filtering greatly improves LDAP performance</p>
<h3 id="3-3-mapping-ldap-groups-to-splunk-roles">3-3 Mapping LDAP Groups to Splunk Roles</h3>
<ul>
<li><strong>Splunk Web</strong></li>
</ul>
<p>Map LDAP groups to Splunk roles using Splunk Web</p>
<ul>
<li><strong>authentication.conf</strong></li>
</ul>
<p>Map LDAP groups to Splunk roles using authentication.conf (placed in Splunk search heads)</p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_32.png" title="Body image" /></p>
<p><strong>Mapping LDAP Groups Using Conf File</strong></p>
<ul>
<li><strong><code>authentication.conf</code></strong></li>
</ul>
<pre><code>[authentication]
authType = LDAP
authSettings = myLDAP


[roleMap_myLDAP]
# Map sales LDAP group to sales_user Splunk role
sales_user = sales
</code></pre>
<p>For mapping LDAP groups into Splunk roles, the stanza is named <code>roleMap_authSettings</code>. There's one line that maps the LDAP group into Splunk role. </p>
<ul>
<li><strong><code>authorization.conf</code></strong></li>
</ul>
<pre><code># Creat sales_user Splunk role

[role_sales_user]
importRoles = user
srchIndexesAllowed = main,sales_trans,web_logs

srchIndexesDefault = sales_trans
srchJobsQuota = 5
</code></pre>
<h3 id="3-4-configuring-single-sign-on"><strong>3-4 Configuring Single Sign On</strong></h3>
<p><strong>Why Single Sign On ?</strong></p>
<ul>
<li>No need to type in username/password</li>
<li>No need to remember/renew passwords</li>
<li>Faster login time means better user experience</li>
<li>Avoids weak passwords</li>
</ul>
<p><strong>How Single Sign On Works ?</strong></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_33.png" title="Body image" /></p>
<p>Splunk search head connects to the identity provider such as Ping Identity or Azure AD for the authentication. The identity provider asserts the authentication by sending an XML document back to Splunk search head</p>
<p><strong>Enabling SAML</strong></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_34.png" title="Body image" /></p>
<p><strong>Things You Need to Know before Configuring Single Sign On</strong></p>
<ul>
<li>A supported identity provider (Example: Ping identity, Azure AD, Okta)</li>
<li>Role, realname and mail attributes</li>
<li>Identity provider metadata file</li>
<li>SSL certificate info</li>
<li>Map SAML groups to Splunk roles</li>
</ul>
<h3 id="3-5-implementing-multi-factor-authentication"><strong>3-5 Implementing Multi-factor Authentication</strong></h3>
<p><strong>Why Multi-factor Authentication ?</strong></p>
<ul>
<li>Additional source of validation for improved security</li>
<li>Meet compliance/audit requirements such as NIST and GDPR</li>
<li>Prevention of security attacks such as denial of service attack</li>
<li>Reduce the risk of compromising passwords</li>
</ul>
<p><strong>Supported Multi-factor Integrations</strong></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_35.png" title="Body image" /></p>
<p><strong>Duo Security</strong></p>
<p>Backed by a zero trust philosophy, Duo provides easily configurable multi-factor authentication</p>
<p><strong>RSA Security</strong></p>
<p>Provides multi-factor authentication with RSA Authentication Manager</p>
<p><strong>Enabling Multi-factor Authentication</strong></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_36.png" title="Body image" /></p>
<p><strong>Configuring Duo</strong></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_37.png" title="Body image" /></p>
<h3 id="3-6-demo">3-6 Demo</h3>
<ul>
<li>Create a new LDAP strategy</li>
<li>Map LDAP groups to Splunk roles</li>
<li>Use authentication.conf to map roles</li>
<li>Grant granular capabilities for a role</li>
</ul>
<p><strong>Create a new LDAP strategy</strong></p>
<p>We will use Splunk Web to configure an LDAP strategy that connects to an external LDAP server.</p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_38.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_39.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_40.png" title="Body image" /></p>
<p><strong><code>ldap.forumsys.com</code></strong></p>
<p><a href="https://www.forumsys.com/tutorials/integration-how-to/ldap/online-ldap-test-server/">https://www.forumsys.com/tutorials/integration-how-to/ldap/online-ldap-test-server/</a></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_41.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_42.png" title="Body image" /></p>
<p><strong>Let's say chemists, and then assign power role for them.</strong></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_43.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_44.png" title="Body image" /></p>
<p>Mapped the chemists group into power role. Now by default, power role cannot edit Splunk licenses. You can go into Settings, and you can see that the Splunk licensing menu itself is not shown here</p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_45.png" title="Body image" /></p>
<p><strong>I don't want them to be full‑blown admins. All I want them to do is simply manage licenses.</strong></p>
<pre><code>cd ./etc/system/local
$ pwd
/Applications/Splunk/etc/system/local

vi authorize.conf
</code></pre>
<pre><code>...
# Role for advanced power user
[role_advanced_power]
importRoles = power
license_edit = enabled
</code></pre>
<pre><code>cd /Applications/Splunk/bin
./splunk restart
</code></pre>
<p>You can see that the <code>advanced_power</code> role that I just created is showing up under Available Roles. </p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_46.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_47.png" title="Body image" /></p>
<p><img alt="Alt Image Text" src="../../images/sp1_1_48.png" title="Body image" /></p>
<h2 id="chapter-summary">Chapter Summary</h2>
<ul>
<li>Splunk role based access control</li>
<li>Splunk built in roles</li>
<li>Create a custom Splunk role</li>
<li>Configure external LDAP and map groups</li>
<li>to Splunk roles</li>
<li>Understand single sign-on and multi-factor authentication</li>
<li>Troubleshoot user access issues</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020-9999 Jacob Xi
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>